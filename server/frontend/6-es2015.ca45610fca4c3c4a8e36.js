(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Ny7i:function(t,e,r){"use strict";r.r(e);var a=r("fXoL"),o=r("ofXK"),n=r("3Pt+"),s=r("9ans"),i=r("tyNb"),c=r("MSSf"),m=r("A2Vd"),l=r("TY1r"),f=r("SSqQ"),d=r("Xlwt"),u=r("IRfi");const h=[1,"mat-elevation-z5"],g=[3,"formGroup","ngSubmit"],b=["appearance","outline"],w=["matInput","","type","email","placeholder","Email","formControlName","email"],p=["matSuffix","",1,"mat-18"],k=["matInput","","placeholder","Password","formControlName","password",3,"type"],y=["matSuffix","",1,"mat-18",3,"click"],v=[1,"button-container"],S=["color","primary",1,"primary-button",3,"disabled","ngClass"],C=[4,"ngIf"],x=["formControlName","saveUserData","color","primary"],j=["align","start"],X=["mat-stroked-button","","color","primary",3,"routerLink"];function I(t,e){if(1&t&&(a.lc(0,"mat-error"),a.Wc(1),a.jc()),2&t){const t=a.vc();a.Mc(1),a.Xc(t.error)}}const M=function(t){return{"submitted-button":t}},P=["/sign-up"];let Y=(()=>{class t{constructor(t,e,r){this.authService=t,this.router=e,this.route=r,this.showPassword=!1,this.isLoading=!1,this.error=""}ngOnInit(){this.initUserCheck(),this.initForm()}initUserCheck(){this.user$=this.authService.user$.subscribe(t=>{t&&this.navigateToPath()})}initForm(){const t=localStorage.getItem("email"),e=localStorage.getItem("password");this.form=new n.f({email:new n.d(t,[n.r.required,n.r.email]),password:new n.d(e,[n.r.required,n.r.minLength(6)]),saveUserData:new n.d(!0)}),t&&e&&this.onSubmit()}onSubmit(){this.isLoading=!0;const{email:t,password:e}=this.form.value;this.authService.onSignIn(t,e).subscribe(r=>{if(r.isValid){this.onSaveUserData(t,e);const{token:a,user:o}=r.body;this.authService.setUser(o),this.authService.setToken(a),this.error=""}else this.error="Invalid Login Please Try Again",this.authService.onSignOut();this.isLoading=!1},t=>{console.log(t),this.isLoading=!1,this.error=t.statusText,this.authService.onSignOut()})}navigateToPath(){const t=localStorage.getItem("path");t&&!t.match("sign")?(this.router.navigate([t],{relativeTo:this.route}),localStorage.removeItem("path")):this.router.navigate(["/main"],{relativeTo:this.route}),localStorage.removeItem("path")}onSaveUserData(t,e){localStorage.setItem("email",t),localStorage.setItem("password",e)}ngOnDestroy(){this.user$&&this.user$.unsubscribe()}}return t.ngComponentDef=a.Yb({type:t,selectors:[["app-sign-in"]],factory:function(e){return new(e||t)(a.ec(s.a),a.ec(i.b),a.ec(i.a))},consts:25,vars:9,template:function(t,e){1&t&&(a.lc(0,"mat-card",h),a.lc(1,"mat-card-header"),a.lc(2,"mat-card-title"),a.Wc(3,"Welcome To Chat Me App"),a.jc(),a.lc(4,"mat-card-subtitle"),a.Wc(5,"Sign In"),a.jc(),a.jc(),a.lc(6,"mat-card-content"),a.lc(7,"form",g),a.rc("ngSubmit",function(t){return e.onSubmit()}),a.lc(8,"mat-form-field",b),a.fc(9,"input",w),a.lc(10,"mat-icon",p),a.Wc(11," email"),a.jc(),a.jc(),a.lc(12,"mat-form-field",b),a.fc(13,"input",k),a.lc(14,"mat-icon",y),a.rc("click",function(t){return e.showPassword=!e.showPassword}),a.Wc(15),a.jc(),a.jc(),a.lc(16,"div",v),a.lc(17,"button",S),a.Wc(18," Sign In "),a.jc(),a.Uc(19,I,2,1,"mat-error",C),a.lc(20,"mat-checkbox",x),a.Wc(21,"You want to auto sign in next time?"),a.jc(),a.jc(),a.jc(),a.jc(),a.lc(22,"mat-card-actions",j),a.lc(23,"a",X),a.Wc(24," You Dont Have A User Yet? "),a.jc(),a.jc(),a.jc()),2&t&&(a.Mc(7),a.Cc("formGroup",e.form),a.Mc(13),a.Cc("type",e.showPassword?"text":"password"),a.Mc(15),a.Xc(e.showPassword?" visibility":" visibility_off"),a.Mc(17),a.Cc("disabled",e.form.invalid)("ngClass",a.Ec(7,M,e.isLoading&&!e.error)),a.Mc(19),a.Cc("ngIf",e.error),a.Mc(23),a.Cc("routerLink",P))},directives:[c.a,c.e,c.h,c.g,c.d,n.s,n.m,n.g,u.b,m.b,n.b,n.l,n.e,l.a,u.f,o.j,o.l,f.a,c.b,d.a,i.e,u.a],styles:["@-webkit-keyframes slide-in-top{0%{transform:translateY(-100vh)}100%{transform:translateY(0)}}@keyframes slide-in-top{0%{transform:translateY(-100vh)}100%{transform:translateY(0)}}@-webkit-keyframes slide-in-bottom{0%{transform:translateY(100vh)}100%{transform:translateY(0)}}@keyframes slide-in-bottom{0%{transform:translateY(100vh)}100%{transform:translateY(0)}}@-webkit-keyframes slideRight{0%{transform:translateX(-100vw)}100%{transform:translateX(0)}}@keyframes slideRight{0%{transform:translateX(-100vw)}100%{transform:translateX(0)}}@-webkit-keyframes slideLeft{0%{transform:translateX(100vw)}100%{transform:translateX(0)}}@keyframes slideLeft{0%{transform:translateX(100vw)}100%{transform:translateX(0)}}@-webkit-keyframes ease-out-right{0%{transform:translateX(-5rem)}85%{transform:translateX(.3rem)}97%{transform:translateX(-.2rem)}100%{transform:translateX(0)}}@keyframes ease-out-right{0%{transform:translateX(-5rem)}85%{transform:translateX(.3rem)}97%{transform:translateX(-.2rem)}100%{transform:translateX(0)}}@-webkit-keyframes shadow{0%{box-shadow:0 .1rem .2rem 0 rgba(0,0,0,.101)}100%{box-shadow:0 1rem 2rem 0 rgba(0,0,0,.201)}}@keyframes shadow{0%{box-shadow:0 .1rem .2rem 0 rgba(0,0,0,.101)}100%{box-shadow:0 1rem 2rem 0 rgba(0,0,0,.201)}}@-webkit-keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes AnimationName{0%,100%{background-position:0 50%}50%{background-position:100% 50%}}@-webkit-keyframes move-background{0%,100%{background-position:0 50%}50%{background-position:100% 50%}}@keyframes move-background{0%,100%{background-position:0 50%}50%{background-position:100% 50%}}[_nghost-%COMP%]{width:100%;height:100%;display:flex;display:flex;flex-direction:column;justify-content:center;align-items:center;align-content:center;position:relative;z-index:4}[_nghost-%COMP%]     mat-card{font-family:Noto-Sans;display:flex;flex-direction:column;align-items:center;box-shadow:none;-webkit-animation:1s ease-out forwards shadow;animation:1s ease-out forwards shadow}[_nghost-%COMP%]     mat-card mat-card-subtitle{text-align:center}[_nghost-%COMP%]     mat-card form{display:flex;flex-direction:column;justify-content:center;align-items:center;align-content:center}[_nghost-%COMP%]     mat-card form .button-container{width:100%;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]     mat-card form .button-container mat-error{width:80%;text-align:center}[_nghost-%COMP%]     mat-card form .button-container button{width:100%}[_nghost-%COMP%]     mat-card mat-card-actions{transform:scale(.8)}"]}),t})();var L=r("PCNd");const O=[{path:"",component:Y}];let D=(()=>{class t{}return t.ngModuleDef=a.cc({type:t}),t.ngInjectorDef=a.bc({factory:function(e){return new(e||t)},imports:[[i.f.forChild(O)],i.f]}),t})();i.f.forChild(O),r.d(e,"SignInModule",function(){return T});let T=(()=>{class t{}return t.ngModuleDef=a.cc({type:t}),t.ngInjectorDef=a.bc({factory:function(e){return new(e||t)},imports:[[o.c,L.a,D]]}),t})()}}]);